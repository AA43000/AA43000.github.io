<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Pembagian Piket</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f7f7f7;
    }
    h1 {
      text-align: center;
    }
    .container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px #ccc;
    }
    .form-group {
      margin-bottom: 15px;
    }
    label {
      font-weight: bold;
    }
    input[type="text"] {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
    }
    button {
      padding: 10px 15px;
      background: #2c7be5;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .tugas-list {
      margin-top: 30px;
    }
    .tugas-item {
      padding: 10px;
      background: #eaeaea;
      border-radius: 5px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Pembagian Piket</h1>

    <div class="form-group">
      <label for="tugasBaru">Tambah Tugas (opsional):</label>
      <input type="text" id="tugasBaru" placeholder="Contoh: Menyapu halaman">
    </div>
    <div class="form-group">
      <label for="anggota">Masukkan Anggota (dipisah koma):</label>
      <input type="text" id="anggota" placeholder="Contoh: Budi, Ani, Joko">
    </div>
    <button onclick="tambahPiket()">Tambah Pembagian</button>

    <div class="tugas-list" id="daftarTugas">
      <!-- Tugas dan anggotanya akan tampil di sini -->
    </div>
  </div>

  <script>
    const tugasDefault = ["Menyapu", "Mengepel", "Buang Sampah"];
    const tugasTambahan = [];
    const pembagian = {};

    function renderTugas() {
      const daftarTugas = document.getElementById('daftarTugas');
      daftarTugas.innerHTML = '';

      const semuaTugas = [...tugasDefault, ...tugasTambahan];

      semuaTugas.forEach(tugas => {
        const anggota = pembagian[tugas] || [];
        const div = document.createElement('div');
        div.className = 'tugas-item';
        div.innerHTML = `<strong>${tugas}</strong><br>Anggota: ${anggota.join(', ') || '-'}`;
        daftarTugas.appendChild(div);
      });
    }

    function tambahPiket() {
      const tugasInput = document.getElementById('tugasBaru').value.trim();
      const anggotaInput = document.getElementById('anggota').value.trim();

      if (!anggotaInput) {
        alert("Mohon isi anggota terlebih dahulu.");
        return;
      }

      const anggotaList = anggotaInput.split(',').map(n => n.trim());

      if (tugasInput) {
        if (!tugasTambahan.includes(tugasInput) && !tugasDefault.includes(tugasInput)) {
          tugasTambahan.push(tugasInput);
        }
        pembagian[tugasInput] = anggotaList;
      } else {
        tugasDefault.forEach(tugas => {
          pembagian[tugas] = anggotaList;
        });
      }

      document.getElementById('tugasBaru').value = '';
      document.getElementById('anggota').value = '';
      renderTugas();
    }

    renderTugas();
  </script>
</body>
</html>
